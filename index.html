<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pixel board</title>

    <style>
      body {
        background: #bbb;
        font-family: sans-serif;
      }

      #container, #colorsContainer {
        line-height: 0;
        text-align: center;
      }

      #colorsContainer div {
        width: 30px;
        height: 30px;
        margin: 2px;
        display: inline-block;
        box-sizing: border-box;
      }

      #colorsContainer div.active {
        border: 4px solid white;
      }

      .box {
        width: 15px;
        height: 15px;
        display: inline-block;
        border: 1px solid #bbb;
        background-color: white;
        transition: background-color 10s ease-out;
      }
      .box:hover {
        transition: background-color 0s ease-in;
      }
      .box.black:hover {
        background-color: black;
      }
      .box.blue:hover {
        background-color: #0074D9;
      }
      .box.teal:hover {
        background-color: #39CCCC;
      }
      .box.yellow:hover {
        background-color: #FFDC00;
      }
      .box.orange:hover {
        background-color: #FF851B;
      }
      .box.pink:hover {
        background-color: #E91E63;
      }
    </style>
  </head>
  <body>
    <p style="text-align:center;">
      Press <b>x</b> to reset the trace, <b>b</b> to cycle through colours.
      <div id="colorsContainer"></div>

    <p>
    <div id="container"></div>
  </body>

  <script>
    var side = 40;
    var colors = ['black', 'blue', 'teal', 'yellow', 'orange', 'pink'];
    var colorsHex = ['black', '#0074D9', '#39CCCC', '#FFDC00', '#FF851B', '#E91E63'];
    var activeColor = 0;

    boxItUp();


    window.onkeyup = function(e) {
      var key = e.keyCode ? e.keyCode : e.which;

      if (key == 88) {  // x
        container.style.display = 'none';
        container.offsetHeight;
        container.style.display = 'block';
      } else if (key == 67) {  // c
        var all = container.querySelectorAll('.box');
        var colorBoxes = colorsContainer.querySelectorAll('div');

        colorBoxes[activeColor].className = '';
        activeColor = (activeColor === colors.length - 1) ? 0 : activeColor + 1;
        colorBoxes[activeColor].className = 'active';

        for (var i = 0; i < all.length; i++) {
          all[i].className = 'box ' + colors[activeColor];
        }
      }
    }

    function boxItUp() {
      // Pixels.
      for (var i = 0; i < side; i++) {
        for (var j = 0; j < side; j++) {
          var box = document.createElement('div');
          box.className = 'box black';
          container.appendChild(box);
        }
        container.appendChild(document.createElement('br'));
      }

      // Active color.
      for (var i = 0; i < colors.length; i++) {
        var box = document.createElement('div');
        box.style.backgroundColor = colorsHex[i];
        if (i == 0) {
          box.className = 'active';
        }
        colorsContainer.appendChild(box);
      }
    }

  </script>

</html>
